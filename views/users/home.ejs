<%- include('../layouts/user/header') -%>



<main class="main">       
    <section class="home-slider position-relative pt-50">
        <div class="hero-slider-1 dot-style-1 dot-style-1-position-1">
            <div class="single-hero-slider single-animation-wrap">
                <div class="container">
                    <div class="row align-items-center slider-animated-1">
                        <div class="col-lg-5 col-md-6">
                            <div class="hero-slider-content-2">
                                <h4 class="animated">Trade-in offer</h4>
                                <h2 class="animated fw-900">Supper value deals</h2>
                                <h1 class="animated fw-900 text-brand">On all products</h1>
                                <p class="animated">Save more with coupons & up to 70% off</p>
                                <a class="animated btn btn-brush btn-brush-3" href="shop-product-right.html"> Shop Now </a>
                            </div>
                        </div>
                        <div class="col-lg-7 col-md-6">
                            <div class="single-slider-img single-slider-img-1">
                                <img class="animated slider-1-1" src="/assetsUser/imgs/slider/furniture1.jpg" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="single-hero-slider single-animation-wrap">
                <div class="container">
                    <div class="row align-items-center slider-animated-1">
                        <div class="col-lg-5 col-md-6">
                            <div class="hero-slider-content-2">
                                <h4 class="animated">Hot promotions</h4>
                                <h2 class="animated fw-900">Fashion Trending</h2>
                                <h1 class="animated fw-900 text-7">Great Collection</h1>
                                <p class="animated">Save more with coupons & up to 20% off</p>
                                <a class="animated btn btn-brush btn-brush-2" href="shop-product-right.html"> Discover Now </a>
                            </div>
                        </div>
                        <div class="col-lg-7 col-md-6">
                            <div class="single-slider-img single-slider-img-1">
                                <img class="animated slider-1-2" src="/assetsUser/imgs/slider/furniture2.jpg" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="single-hero-slider single-animation-wrap">
                <div class="container">
                    <div class="row align-items-center slider-animated-1">
                        <div class="col-lg-5 col-md-6">
                            <div class="hero-slider-content-2">
                                <h4 class="animated">Upcoming Offer</h4>
                                <h2 class="animated fw-900">Big Deals From</h2>
                                <h1 class="animated fw-900 text-8">Manufacturer</h1>
                                <p class="animated">walldrob , Chair , computer Table ...</p>
                                <a class="animated btn btn-brush btn-brush-1" href="shop-product-right.html"> Shop Now </a>
                            </div>
                        </div>
                        <style>
.single-slider-img {
    width: 100%;
    max-width: 1200px; /* Adjust as needed */
    height: auto;
}

.single-slider-img img {
    width: 100%;
    height: auto;
}
                        </style>
                        <div class="col-lg-7 col-md-6">
                            <div class="single-slider-img single-slider-img-1">
                                <img class="animated slider-1-3" src="/assetsUser/imgs/slider/furniture3.jpg" alt="">
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <div class="slider-arrow hero-slider-1-arrow"></div>
    </section>

    <section class="product-tabs section-padding position-relative wow fadeIn animated">
        <div class="bg-square"></div>
        <div class="container">
           
            <!--End nav-tabs-->
            <div class="tab-content wow fadeIn animated" id="myTabContent">
                <div class="tab-pane fade show active" id="tab-one" role="tabpanel" aria-labelledby="tab-one">
                    <div class="row product-grid-4">
                    <% for (let i = 0; i < Math.min(products.length, 8); i++) { %>
                      <% if (products[i] && products[i]._id && products[i].image?.length > 1) { %>
                        <div class="col-lg-3 col-md-4 col-12 col-sm-6">
                          <div class="product-cart-wrap mb-30">
                            <div class="product-img-action-wrap">
                              <div class="product-img product-img-zoom">
                                <a href="/products/product-details?id=<%= products[i]._id %>">
                                  <img class="default-img" src="assets/uploads/<%= products[i].image[0].filename %>" alt="">
                                  <img class="hover-img" src="assets/uploads/<%= products[i].image[1].filename %>" alt="">
                                </a>
                              </div>
                              <div class="product-action-1">
                                <a aria-label="Quick view" class="action-btn hover-up" data-bs-toggle="modal" data-bs-target="#quickViewModal"><i class="fi-rs-eye"></i></a>
                                <a aria-label="Add To Wishlist" class="action-btn hover-up" onclick="addTowishlist('<%= products[i]._id %>')"><i class="fi-rs-heart"></i></a>
                                <a aria-label="Compare" class="action-btn hover-up" href="shop-compare.html"><i class="fi-rs-shuffle"></i></a>
                              </div>
                              <div class="product-badges product-badges-position product-badges-mrg"></div>
                            </div>
                            <div class="product-content-wrap">
                              <div class="product-category">
                                <a href="shop-grid-right.html">Furniture</a>
                              </div>
                              <h2><a href="shop-product-right.html"><%= products[i].productName %></a></h2>
                              <div class="product-price">
                                <span>Rs :<%= products[i].salePrice %></span>
                                <span class="old-price"><%= products[i].regularPrice %></span>
                              </div>
                              <div style="width: 50%;">
                                <label for="qty-<%= products[i]._id %>">Quantity:</label>
                                <input type="number" id="qty-<%= products[i]._id %>" name="quantity" min="1" value="1">
                              </div>
                              <div class="product-action-1 show">
                                <a aria-label="Add To Cart" class="action-btn hover-up" onclick="addToCartDetails('<%= products[i]._id %>')" href="javascript:void(0);" id="cart-icon-<%= products[i]._id %>">
                                  <i class="fi-rs-shopping-bag-add"></i>
                                </a>
                              </div>
                            </div>
                          </div>
                        </div>
                      <% } else { %>
                        <div class="col-lg-3 col-md-4 col-12 col-sm-6">
                          <div class="product-cart-wrap mb-30">
                            <div class="product-content-wrap">
                              <h4 class="text-danger">Product data is incomplete</h4>
                            </div>
                          </div>
                        </div>
                      <% } %>
                    <% } %>
                  </div>
                </div>
              </div>
              
               
     
    <section class="popular-categories section-padding mt-15 mb-25">
        <div class="container wow fadeIn animated">
            <h3 class="section-title mb-20"><span>Popular</span> Categories</h3>
            <div class="carausel-6-columns-cover position-relative">
                <div class="slider-arrow slider-arrow-2 carausel-6-columns-arrow" id="carausel-6-columns-arrows"></div>
                <div class="carausel-6-columns" id="carausel-6-columns">
                    <div class="card-1">
                        <figure class=" img-hover-scale overflow-hidden">
                            <a href="shop-grid-right.html"><img src="assetsUser/imgs/shop/category-thumb-1.jpg" alt=""></a>
                        </figure>
                        <h5><a href="shop-grid-right.html">wardrob</a></h5>
                    </div>
                    <div class="card-1">
                        <figure class=" img-hover-scale overflow-hidden">
                            <a href="shop-grid-right.html"> <img src="assetsUser/imgs/shop/category-thumb-2.jpg" alt=""></a>
                        </figure>
                        <h5><a href="shop-grid-right.html">Beds</a></h5>
                    </div>
                    <div class="card-1">
                        <figure class=" img-hover-scale overflow-hidden">
                            <a href="shop-grid-right.html"><img src="assetsUser/imgs/shop/category-thumb-3.jpg" alt=""></a>
                        </figure>
                        <h5><a href="shop-grid-right.html">Tv Storage</a></h5>
                    </div>
                    <div class="card-1">
                        <figure class=" img-hover-scale overflow-hidden">
                            <a href="shop-grid-right.html"><img src="assetsUser/imgs/shop/category-thumb-4.jpg" alt=""></a>
                        </figure>
                        <h5><a href="shop-grid-right.html">Chairs</a></h5>
                    </div>
                    <div class="card-1">
                        <figure class=" img-hover-scale overflow-hidden">
                            <a href="shop-grid-right.html"><img src="assetsUser/imgs/shop/category-thumb-5.jpg" alt=""></a>
                        </figure>
                        <h5><a href="shop-grid-right.html">Cabinets</a></h5>
                    </div>
                    <div class="card-1">
                        <figure class=" img-hover-scale overflow-hidden">
                            <a href="shop-grid-right.html"><img src="assetsUser/imgs/shop/category-thumb-6.jpg" alt=""></a>
                        </figure>
                        <h5><a href="shop-grid-right.html">Sofas</a></h5>
                    </div>
                    <div class="card-1">
                        <figure class=" img-hover-scale overflow-hidden">
                            <a href="shop-grid-right.html"><img src="assetsUser/imgs/shop/category-thumb-7.jpg" alt=""></a>
                        </figure>
                        <h5><a href="shop-grid-right.html">Tables</a></h5>
                    </div>
                    <div class="card-1">
                        <figure class=" img-hover-scale overflow-hidden">
                            <a href="shop-grid-right.html"><img src="assetsUser/imgs/shop/category-thumb-8.jpg" alt=""></a>
                        </figure>
                        <h5><a href="shop-grid-right.html">Drawers</a></h5>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section class="section-padding">
        <div class="container wow fadeIn animated">
            <h3 class="section-title mb-20"><span>New</span> Arrivals</h3>
            <div class="carausel-6-columns-cover position-relative">
                <div class="slider-arrow slider-arrow-2 carausel-6-columns-arrow" id="carausel-6-columns-2-arrows"></div>
                <div class="carausel-6-columns carausel-arrow-center" id="carausel-6-columns-2">
                    <div class="product-cart-wrap small hover-up">
                        <div class="product-img-action-wrap">
                            <div class="product-img product-img-zoom">
                                <a href="shop-product-right.html">
                                    <img class="default-img" src="assetsUser/imgs/shop/product-2-1.jpg" alt="">
                                    <img class="hover-img" src="assetsUser/imgs/shop/product-2-2.jpg" alt="">
                                </a>
                            </div>
                            <div class="product-action-1">
                                <a aria-label="Quick view" class="action-btn small hover-up" data-bs-toggle="modal" data-bs-target="#quickViewModal">
<i class="fi-rs-eye"></i></a>
                                <a aria-label="Add To Wishlist" class="action-btn small hover-up" href="shop-wishlist.html" tabindex="0"><i class="fi-rs-heart"></i></a>
                                <a aria-label="Compare" class="action-btn small hover-up" href="shop-compare.html" tabindex="0"><i class="fi-rs-shuffle"></i></a>
                            </div>
                            <div class="product-badges product-badges-position product-badges-mrg">
                                <span class="hot">Hot</span>
                            </div>
                        </div>
                        <div class="product-content-wrap">
                            <h2><a href="shop-product-right.html">Lorem ipsum dolor</a></h2>
                            <div class="rating-result" title="90%">
                                <span>
                                </span>
                            </div>
                            <div class="product-price">
                                <span>$238.85 </span>
                                <span class="old-price">$245.8</span>
                            </div>
                        </div>
                    </div>
                    <!-- End product-cart-wrap-2-->
                    <div class="product-cart-wrap small hover-up">
                        <div class="product-img-action-wrap">
                            <div class="product-img product-img-zoom">
                                <a href="shop-product-right.html">
                                    <img class="default-img" src="assetsUser/imgs/shop/product-4-1.jpg" alt="">
                                    <img class="hover-img" src="assetsUser/imgs/shop/product-4-2.jpg" alt="">
                                </a>
                            </div>
                            <div class="product-action-1">
                                <a aria-label="Quick view" class="action-btn small hover-up" data-bs-toggle="modal" data-bs-target="#quickViewModal">
<i class="fi-rs-eye"></i></a>
                                <a aria-label="Add To Wishlist" class="action-btn small hover-up" href="shop-wishlist.html" tabindex="0"><i class="fi-rs-heart"></i></a>
                                <a aria-label="Compare" class="action-btn small hover-up" href="shop-compare.html" tabindex="0"><i class="fi-rs-shuffle"></i></a>
                            </div>
                            <div class="product-badges product-badges-position product-badges-mrg">
                                <span class="new">New</span>
                            </div>
                        </div>
                        <div class="product-content-wrap">
                            <h2><a href="shop-product-right.html">Lorem ipsum dolor</a></h2>
                            <div class="rating-result" title="90%">
                                <span>
                                </span>
                            </div>
                            <div class="product-price">
                                <span>$173.85 </span>
                                <span class="old-price">$185.8</span>
                            </div>
                        </div>
                    </div>
                    <!-- End product-cart-wrap-2 -->
                    <div class="product-cart-wrap small hover-up">
                        <div class="product-img-action-wrap">
                            <div class="product-img product-img-zoom">
                                <a href="shop-product-right.html">
                                    <img class="default-img" src="assetsUser/imgs/shop/product-15-1.jpg" alt="">
                                    <img class="hover-img" src="assetsUser/imgs/shop/product-15-2.jpg" alt="">
                                </a>
                            </div>
                            <div class="product-action-1">
                                <a aria-label="Quick view" class="action-btn small hover-up" data-bs-toggle="modal" data-bs-target="#quickViewModal">
<i class="fi-rs-eye"></i></a>
                                <a aria-label="Add To Wishlist" class="action-btn small hover-up" href="shop-wishlist.html" tabindex="0"><i class="fi-rs-heart"></i></a>
                                <a aria-label="Compare" class="action-btn small hover-up" href="shop-compare.html" tabindex="0"><i class="fi-rs-shuffle"></i></a>
                            </div>
                            <div class="product-badges product-badges-position product-badges-mrg">
                                <span class="sale">Sale</span>
                            </div>
                        </div>
                        <div class="product-content-wrap">
                            <h2><a href="shop-product-right.html">Lorem ipsum dolor</a></h2>
                            <div class="rating-result" title="90%">
                                <span>
                                </span>
                            </div>
                            <div class="product-price">
                                <span>$215.85 </span>
                                <span class="old-price">$235.8</span>
                            </div>
                        </div>
                    </div>
                    <!-- End product-cart-wrap-2 --> 
                    <div class="product-cart-wrap small hover-up">
                        <div class="product-img-action-wrap">
                            <div class="product-img product-img-zoom">
                                <a href="shop-product-right.html">
                                    <img class="default-img" src="assetsUser/imgs/shop/product-3-1.jpg" alt="">
                                    <img class="hover-img" src="assetsUser/imgs/shop/product-3-2.jpg" alt="">
                                </a>
                            </div>
                            <div class="product-action-1">
                                <a aria-label="Quick view" class="action-btn small hover-up" data-bs-toggle="modal" data-bs-target="#quickViewModal">
<i class="fi-rs-eye"></i></a>
                                <a aria-label="Add To Wishlist" class="action-btn small hover-up" href="shop-wishlist.html" tabindex="0"><i class="fi-rs-heart"></i></a>
                                <a aria-label="Compare" class="action-btn small hover-up" href="shop-compare.html" tabindex="0"><i class="fi-rs-shuffle"></i></a>
                            </div>
                            <div class="product-badges product-badges-position product-badges-mrg">
                                <span class="hot">.33%</span>
                            </div>
                        </div>
                        <div class="product-content-wrap">
                            <h2><a href="shop-product-right.html">Lorem ipsum dolor</a></h2>
                            <div class="rating-result" title="90%">
                                <span>
                                </span>
                            </div>
                            <div class="product-price">
                                <span>$83.8 </span>
                                <span class="old-price">$125.2</span>
                            </div>
                        </div>
                    </div>
                    <!--End product-cart-wrap-2-->
                    <div class="product-cart-wrap small hover-up">
                        <div class="product-img-action-wrap">
                            <div class="product-img product-img-zoom">
                                <a href="shop-product-right.html">
                                    <img class="default-img" src="assetsUser/imgs/shop/product-9-1.jpg" alt="">
                                    <img class="hover-img" src="assetsUser/imgs/shop/product-9-2.jpg" alt="">
                                </a>
                            </div>
                            <div class="product-action-1">
                                <a aria-label="Quick view" class="action-btn small hover-up" data-bs-toggle="modal" data-bs-target="#quickViewModal">
<i class="fi-rs-eye"></i></a>
                                <a aria-label="Add To Wishlist" class="action-btn small hover-up" href="shop-wishlist.html" tabindex="0"><i class="fi-rs-heart"></i></a>
                                <a aria-label="Compare" class="action-btn small hover-up" href="shop-compare.html" tabindex="0"><i class="fi-rs-shuffle"></i></a>
                            </div>
                            <div class="product-badges product-badges-position product-badges-mrg">
                                <span class="hot">-25%</span>
                            </div>
                        </div>
                        <div class="product-content-wrap">
                            <h2><a href="shop-product-right.html">Lorem ipsum dolor</a></h2>
                            <div class="rating-result" title="90%">
                                <span>
                                </span>
                            </div>
                            <div class="product-price">
                                <span>$1238.85 </span>
                                <span class="old-price">$1245.8</span>
                            </div>
                        </div>
                    </div>
                    <!--End product-cart-wrap-2-->
                    <div class="product-cart-wrap small hover-up">
                        <div class="product-img-action-wrap">
                            <div class="product-img product-img-zoom">
                                <a href="shop-product-right.html">
                                    <img class="default-img" src="assetsUser/imgs/shop/product-7-1.jpg" alt="">
                                    <img class="hover-img" src="assetsUser/imgs/shop/product-7-2.jpg" alt="">
                                </a>
                            </div>
                            <div class="product-action-1">
                                <a aria-label="Quick view" class="action-btn small hover-up" data-bs-toggle="modal" data-bs-target="#quickViewModal">
<i class="fi-rs-eye"></i></a>
                                <a aria-label="Add To Wishlist" class="action-btn small hover-up" href="shop-wishlist.html" tabindex="0"><i class="fi-rs-heart"></i></a>
                                <a aria-label="Compare" class="action-btn small hover-up" href="shop-compare.html" tabindex="0"><i class="fi-rs-shuffle"></i></a>
                            </div>
                            <div class="product-badges product-badges-position product-badges-mrg">
                                <span class="new">New</span>
                            </div>
                        </div>
                        <div class="product-content-wrap">
                            <h2><a href="shop-product-right.html">Lorem ipsum dolor</a></h2>
                            <div class="rating-result" title="90%">
                                <span>
                                </span>
                            </div>
                            <div class="product-price">
                                <span>$123 </span>
                                <span class="old-price">$156</span>
                            </div>
                        </div>
                    </div>
                    <!--End product-cart-wrap-2-->
                    <div class="product-cart-wrap small hover-up">
                        <div class="product-img-action-wrap">
                            <div class="product-img product-img-zoom">
                                <a href="shop-product-right.html">
                                    <img class="default-img" src="assetsUser/imgs/shop/product-1-1.jpg" alt="">
                                    <img class="hover-img" src="assetsUser/imgs/shop/product-1-2.jpg" alt="">
                                </a>
                            </div>
                            <div class="product-action-1">
                                <a aria-label="Quick view" class="action-btn small hover-up" data-bs-toggle="modal" data-bs-target="#quickViewModal">
<i class="fi-rs-eye"></i></a>
                                <a aria-label="Add To Wishlist" class="action-btn small hover-up" href="shop-wishlist.html" tabindex="0"><i class="fi-rs-heart"></i></a>
                                <a aria-label="Compare" class="action-btn small hover-up" href="shop-compare.html" tabindex="0"><i class="fi-rs-shuffle"></i></a>
                            </div>
                        </div>
                        <div class="product-content-wrap">
                            <h2><a href="shop-product-right.html">Lorem ipsum dolor</a></h2>
                            <div class="rating-result" title="90%">
                                <span>
                                </span>
                            </div>
                            <div class="product-price">
                                <span>$238.85 </span>
                                <span class="old-price">$245.8</span>
                            </div>
                        </div>
                    </div>
                    <!--End product-cart-wrap-2-->
                </div>
            </div>
        </div>
    </section> 
    
    <!-- <section class="section-padding">
        <div class="container">
            <h3 class="section-title mb-20 wow fadeIn animated"><span>Featured</span> Brands</h3>
            <div class="carausel-6-columns-cover position-relative wow fadeIn animated">
                <div class="slider-arrow slider-arrow-2 carausel-6-columns-arrow" id="carausel-6-columns-3-arrows"></div>
                <div class="carausel-6-columns text-center" id="carausel-6-columns-3">
                    <div class="brand-logo">
                        <img class="img-grey-hover" src="assetsUser/imgs/banner/images.png" alt="">
                    </div>
                    <div class="brand-logo">
                        <img class="img-grey-hover" src="assetsUser/imgs/banner/images (1).png" alt="">
                    </div>
                    <div class="brand-logo">
                        <img class="img-grey-hover" src="assetsUser/imgs/banner/images (2).png" alt="">
                    </div>
                    <div class="brand-logo">
                        <img class="img-grey-hover" src="assetsUser/imgs/banner/images (6).png" alt="">
                    </div>
                    <div class="brand-logo">
                        <img class="img-grey-hover" src="assetsUser/imgs/banner/images (4).png" alt="">
                    </div>
                    <div class="brand-logo">
                        <img class="img-grey-hover" src="assetsUser/imgs/banner/images (5).png" alt="">
                    </div>
                    <div class="brand-logo">
                        <img class="img-grey-hover" src="assetsUser/imgs/banner/images (6).png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </section> -->
     
    <script>
function addTowishlist(productId) {
  console.log(productId);

  $.ajax({
    url: `/add-to-wishlist-icon?id=${productId}`,  // Check this URL
    type: "PUT",
    contentType: "application/json",
    data: JSON.stringify({ is_blocked: true }),
    success: function (response) {
      updateCartNumber(response.count);

      removeCartIcon(productId);
    },
    error: function (xhr, status, error) {
      console.error("Failed to add to wishlist", error);
    },
  });

  // Show SweetAlert at the center
  Swal.fire({
    position: "center",
    icon: "success",
    title: "Product added to wishlist!",
    showConfirmButton: false,
    timer: 1500,
  }).then(() => {

    window.location.href = "home";

    });

}



function addToCartDetails(productId) {
    const qtyInput = document.getElementById('qty-' + productId); // Ensure the element with a unique id exists
    const qtyVal = parseInt(qtyInput.value); // Get the value of the input field as an integer

    if (isNaN(qtyVal) || qtyVal <= 0) {
        Swal.fire({
            title: 'Error!',
            text: 'Please enter a valid quantity greater than 0.',
            icon: 'error',
            confirmButtonText: 'OK'
        });
        return; // Stop the function execution if validation fails
    }


    console.log(qtyVal, 'quantity');

    fetch('/add-to-cart', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            productId: productId,
            quantity: qtyVal
        })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            Swal.fire({
                title: 'Success!',
                text: 'Product Added Successfully',
                icon: 'success',
                confirmButtonText: 'OK'
            }).then(() => {
                window.location.href = '/add-to-cart'; 
            });
        } else {
            Swal.fire({
                title: 'Error!',
                text: data.message,
                icon: 'error',
                confirmButtonText: 'OK'
            });
        }
    })
    .catch(error => {
        console.error('Error:', error);
        Swal.fire({
            title: 'Error!',
            text: 'An unexpected error occurred.',
            icon: 'error',
            confirmButtonText: 'OK'
        });
    });
}



    </script>

<%- include('../layouts/user/footer') -%> 
